name: Status Check

on:
  schedule:
    - cron: '0 */6 * * *'  # Every 6 hours
  workflow_dispatch:

jobs:
  status:
    runs-on: windows-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.13'
        
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
        
    - name: Health check
      run: |
        echo "üîç Running health checks..."
        
        # Check Python version
        python --version
        
        # Check if main modules can be imported
        python -c "import main; print('‚úÖ Main module OK')"
        python -c "import modules.fps_boost; print('‚úÖ FPS Boost OK')"
        python -c "import modules.network_analyzer; print('‚úÖ Network Analyzer OK')"
        python -c "import modules.ram_cleaner; print('‚úÖ RAM Cleaner OK')"
        python -c "import modules.lol_optimizer; print('‚úÖ LoL Optimizer OK')"
        
        # Check if build script exists
        if (Test-Path "build_simple_advanced.py") {
          echo "‚úÖ Build script exists"
        } else {
          echo "‚ùå Build script missing"
          exit 1
        }
        
        # Check if main.py exists
        if (Test-Path "main.py") {
          echo "‚úÖ Main application exists"
        } else {
          echo "‚ùå Main application missing"
          exit 1
        }
        
        echo "‚úÖ All health checks passed"
        
    - name: Create status report
      run: |
        $status = @"
        # üöÄ NGXSMK GameNet Optimizer - Status Report
        
        **Build Date**: $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')
        **Python Version**: $(python --version)
        **Platform**: Windows
        **Status**: ‚úÖ All systems operational
        
        ## Module Status
        - ‚úÖ Main Application
        - ‚úÖ FPS Boost Module
        - ‚úÖ Network Analyzer Module
        - ‚úÖ RAM Cleaner Module
        - ‚úÖ LoL Optimizer Module
        - ‚úÖ Build Scripts
        
        ## Next Steps
        - Ready for development
        - Ready for building
        - Ready for testing
        
        ---
        *Automated status check - $(Get-Date)*
        "@
        
        $status | Out-File -FilePath "STATUS_REPORT.md" -Encoding UTF8
        echo "üìã Status report created"
